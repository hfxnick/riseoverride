<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Block Library ‚Äì RiseOverride</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link rel="icon" type="image/png" href="/assets/icon32.png" sizes="32x32" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-css.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>
  <link href="blog/blog-styles.css" rel="stylesheet" />
</head>

<body class="bg-slate-900 text-slate-100 font-sans antialiased">
  <!-- Dev Banner -->
  <div
    class="w-full bg-yellow-100 border-b border-yellow-300 text-yellow-900 py-3 px-6 text-center font-semibold text-base z-50">
    üöß This page is currently in development. Features and content may change. üöß
  </div>

  <!-- Header -->
  <header class="bg-slate-900 border-b border-slate-800 px-6 py-4">
    <div class="max-w-6xl mx-auto flex items-center justify-between">
      <a href="/" class="flex items-center space-x-2 transition-opacity duration-300 hover:opacity-80">
        <img src="/assets/RiseOverrideLogo.png" alt="RiseOverride Logo" class="h-10 w-auto" />
      </a>
      <a href="https://chromewebstore.google.com/detail/fgadfaegmenmjolnpcmhpnajaigjmego"
        class="text-sm text-blue-400 hover:text-blue-500 font-medium transition" target="_blank"
        rel="noopener noreferrer">
        Install Free
      </a>
    </div>
  </header>

  <section class="py-16 px-6 bg-gradient-to-br from-slate-900 to-slate-800 text-center">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-4xl sm:text-5xl font-extrabold mb-4 text-slate-100 drop-shadow-lg">Block Library</h1>
      <p class="text-lg text-slate-300 mb-10">Browse a growing collection of RiseOverride blocks and mods. Select a
        tool, or modify and copy a code snippet to get started.</p>
    </div>
  </section>

  <section class="py-10 px-6 bg-slate-900">
    <div class="max-w-6xl mx-auto">
      <h2 class="text-2xl font-bold mb-2 text-left text-slate-100">Override Labs Team</h2>
      <p class="mb-6 text-left text-slate-300 text-base">Custom block templates developed and maintained by the team at
        Override Labs for enhanced Rise course customization.</p>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 mb-12">
        <div class="firemod-card">
          <h3 class="text-xl font-bold mb-2 text-slate-100">Reflection Block Generator</h3>
          <p class="text-slate-300 text-sm">A visual tool for developing custom reflection blocks for Rise courses.
            Quickly design, preview, and export ready-to-use reflection activities for your learners.</p>
          <a href="block-library/OverrideLabs/reflection.html" target="_blank" rel="noopener noreferrer"
            class="download-btn mt-4">Customize Your Block</a>
        </div>
      </div>
      <h2 class="text-2xl font-bold mb-2 text-left text-slate-100 flex items-center gap-2">Fire Mods by Discover
        eLearning
        <span class="ml-2 text-xs font-semibold bg-purple-100 text-purple-700 px-3 py-1 rounded-full">Recommended</span>
      </h2>
      <p class="mb-6 text-left text-slate-300 text-base">Customizations from Fire Mods by <a
          href="https://discoverelearning.com/products/fire-mods/#whatisfiremods">Discover eLearning</a>, adapted by the
        Override Labs team for easy use in the RiseOverride Chrome Extension.</p>
      <!-- Fire Mods Snippet Grid Start -->
      <div class="columns-2 gap-6 space-y-6 mb-8">
        <!-- CSS Snippet 1 -->
        <div class="snippet-card inline-block w-full break-inside-avoid mb-6">
          <h3 class="text-base font-semibold mb-2 text-slate-200">Round Continue Buttons (CSS)</h3>
          <div class="code-block-wrapper">
            <pre class="language-css"><code class="language-css" contenteditable="true">/*
 * Round Continue Buttons CSS Mod
 * -----------------------------------
 * Copy/paste into the CSS field in the RiseOverride Chrome Extension.
 */

.continue-btn {
    border-radius: 50px !important;
}
</code></pre>
            <button class="code-copy-btn" type="button">Copy</button>
          </div>
        </div>
        <!-- CSS Snippet 2 -->
        <div class="snippet-card inline-block w-full break-inside-avoid mb-6">
          <h3 class="text-base font-semibold mb-2 text-slate-200">Replace Continue With Line (CSS)</h3>
          <div class="code-block-wrapper">
            <pre class="language-css"><code class="language-css" contenteditable="true">/*
 * Replace Continue With Line CSS Mod
 * -----------------------------------
 * Copy/paste into the CSS field in the RiseOverride Chrome Extension.
 */

.continue-divider-mod {
    padding: 0 !important;
    height: 0px !important;
    margin: 3rem auto !important;
    border-top: 1px solid #d4d4d4 !important;
    width: 80% !important;
}
</code></pre>
            <button class="code-copy-btn" type="button">Copy</button>
          </div>
        </div>
        <!-- CSS Snippet 3 -->
        <div class="snippet-card inline-block w-full break-inside-avoid mb-6">
          <h3 class="text-base font-semibold mb-2 text-slate-200">Override Cover Page Padding (CSS)</h3>
          <div class="code-block-wrapper">
            <pre class="language-css"><code class="language-css" contenteditable="true">/*
 * Override Cover Page Padding CSS Mod
 * -----------------------------------
 * Copy/paste into the CSS field in the RiseOverride Chrome Extension.
 */

@media(min-width: 62em) {
    .organic .cover--layout-split-left .cover__header-content,
    .organic .cover--layout-split-left-image .cover__header-content {
        padding-block: 4rem 7rem !important;
    }
}
</code></pre>
            <button class="code-copy-btn" type="button">Copy</button>
          </div>
        </div>
        <!-- CSS Snippet 4 -->
        <div class="snippet-card inline-block w-full break-inside-avoid mb-6">
          <h3 class="text-base font-semibold mb-2 text-slate-200">Modernise Text On Image (CSS)</h3>
          <div class="code-block-wrapper">
            <pre class="language-css"><code class="language-css" contenteditable="true">/*
 * Modernise Text On Image CSS Mod
 * -----------------------------------
 * Copy/paste into the CSS field in the RiseOverride Chrome Extension.
 */

.block-image--overlay .block-image__paragraph {
    /* Glass effect */
    /* background: rgba(255, 255, 255, 0.2) !important; */
    /* backdrop-filter: blur(6px) !important; */
    /* -webkit-backdrop-filter: blur(6px) !important; */
    /* border: 1px solid rgba(255, 255, 255, 0.18); */
    /* Drop shadow */
    /* box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2) !important; */
    padding: 4rem 7rem !important;
    border-radius: 8px;
}
@media(min-width: 48em) {
    .block-image--overlay .block-image__col {
        width: 90% !important;
    }
}
.block-image--overlay .block-image__paragraph:before {
    display: none !important;
}
/* Uncomment and adjust the following if you want a custom headline font: */
/*
.block-image__paragraph.brand--linkColor p:first-of-type {
    font-family: 'Architects Daughter', cursive !important;
}
*/
</code></pre>
            <button class="code-copy-btn" type="button">Copy</button>
          </div>
        </div>
        <!-- CSS Snippet 5 -->
        <div class="snippet-card inline-block w-full break-inside-avoid mb-6">
          <h3 class="text-base font-semibold mb-2 text-slate-200">Modernise Menu Button (CSS)</h3>
          <div class="code-block-wrapper">
            <pre class="language-css"><code class="language-css" contenteditable="true">/*
 * Modernise Menu Button CSS Mod
 * -----------------------------------
 * Copy/paste into the CSS field in the RiseOverride Chrome Extension.
 */

.nav-control__button {
    background: rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(1px) !important;
    -webkit-backdrop-filter: blur(1px) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 8px !important;
    transition: transform 0.2s ease-in-out !important;
}
.nav-control__button:hover { transform: scale(1.1) !important; }
.nav-control__button svg { will-change: transform; transform: translateZ(0); }
</code></pre>
            <button class="code-copy-btn" type="button">Copy</button>
          </div>
        </div>
        <!-- CSS Snippet 6 -->
        <div class="snippet-card inline-block w-full break-inside-avoid mb-6">
          <h3 class="text-base font-semibold mb-2 text-slate-200">Custom Background (CSS)</h3>
          <div class="code-block-wrapper">
            <pre class="language-css"><code class="language-css" contenteditable="true">/*
 * Custom Background CSS Mod
 * -----------------------------------
 * Copy/paste into the CSS field in the RiseOverride Chrome Extension.
 */

#page-wrap {
    background-color: #fdfdfd;
    background-attachment: fixed;
    /* Uncomment and adjust the following lines to add a background image and overlay: */
    /* background-image: url('https://images.unsplash.com/photo-1749371930388-50c782b0acea?fm=jpg&q=60&w=3000'),
        linear-gradient(rgba(253,253,253,0.9), rgba(253,253,253,0.9)); */
    /* background-size: cover, auto; */
    /* background-position: center center, center center; */
    /* background-repeat: no-repeat, no-repeat; */
}
.page__wrapper--white, .page__header, .blocks-lesson, .lesson-nav--full {
    background: transparent !important;
}
/* Uncomment to add grid lines: */
/*
#page-wrap {
    background-image: linear-gradient(rgba(0, 0, 0, 0.04) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 0, 0, 0.04) 1px, transparent 1px);
    background-size: 30px 30px, 30px 30px;
    background-position: top left, top left;
    background-repeat: repeat, repeat;
}
*/
</code></pre>
            <button class="code-copy-btn" type="button">Copy</button>
          </div>
        </div>
        <!-- CSS Snippet 7 -->
        <div class="snippet-card inline-block w-full break-inside-avoid mb-6">
          <h3 class="text-base font-semibold mb-2 text-slate-200">Centre Align Buttons (CSS)</h3>
          <div class="code-block-wrapper">
            <pre class="language-css"><code class="language-css" contenteditable="true">/*
 * Centre Align Buttons CSS Mod
 * -----------------------------------
 * Copy/paste into the CSS field in the RiseOverride Chrome Extension.
 */

.blocks-button__description { display: none !important; }
.blocks-button__container { max-width: none !important; justify-content: center !important; }
.blocks-button__button {
    flex: 0 1 auto !important;
    max-width: 30rem !important;
    min-width: 15rem !important;
    height: 5rem !important; /* Adjust as needed */
    line-height: 5rem !important;
}
</code></pre>
            <button class="code-copy-btn" type="button">Copy</button>
          </div>
        </div>
      </div>
      <!-- Community Submission Section Start -->
      <div class="mt-10 mb-8 p-6 rounded-xl bg-white shadow-lg border border-slate-200 max-w-3xl mx-auto text-center">
        <h2 class="text-2xl font-bold mb-2 text-slate-900">Want your blocks featured?</h2>
        <p class="mb-4 text-slate-900 text-base">We're always looking to showcase new and creative blocks, styles and
          mods from the community. If you've built something awesome, submit it for a chance to be featured here!</p>
        <a href="https://forms.gle/ZtkSFNDe9Uwymi8N7" target="_blank" rel="noopener noreferrer"
          class="inline-block bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl text-base sm:text-lg">Submit
          Your Code</a>
      </div>
      <!-- Community Submission Section End -->

  </section>

  <!-- Footer -->
  <footer class="py-10 px-6 text-center text-sm text-slate-600 bg-slate-50 space-y-4 fade-in-up">
    <p class="text-xs text-slate-500 max-w-2xl mx-auto leading-relaxed">
      RiseOverride is an independent tool and is not affiliated with, endorsed by, or supported by Articulate.
      Articulate, Rise, and any related trademarks are the property of their respective owners. Use at your own
      discretion‚ÄîOverride Labs is not liable for compatibility or performance issues resulting from custom
      modifications.
    </p>
    <p>
      <a href="https://forms.gle/eQKxD7jySctV59ZA6" target="_blank" rel="noopener noreferrer"
        class="text-blue-500 hover:text-blue-600 underline">
        Have feedback? We‚Äôd love to hear from you.
      </a>
    </p>
    <p>
      <a href="../privacy.html" class="text-blue-500 hover:text-blue-600 underline">
        Privacy Policy
      </a>
    </p>
    <p>¬© <span id="year"></span> Override Labs ‚Äî Built for creators who don't settle. Made in Canada üçÅ</p>
    <p class="flex justify-center gap-4 mt-4">
      <a href="https://www.linkedin.com/company/override-labs-ca/" target="_blank" rel="noopener noreferrer"
        title="LinkedIn" class="inline-block text-slate-400 footer-social-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor" class="w-5 h-5">
          <path
            d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" />
        </svg>
      </a>
      <a href="https://x.com/overridelabs_ca" target="_blank" rel="noopener noreferrer" title="X (Twitter)"
        class="inline-block text-slate-400 footer-social-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor" class="w-5 h-5">
          <path
            d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm297.1 84L257.3 234.6 379.4 396H283.8L209 298.1 123.3 396H75.8l111-126.9L69.7 116h98l67.7 89.5L313.6 116h47.5zM323.3 367.6L153.4 142.9H125.1L296.9 367.6h26.3z" />
        </svg>
      </a>
      <a href="mailto:info@overridelabs.ca" title="Email" class="inline-block text-slate-400 footer-social-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor" class="w-5 h-5">
          <path
            d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM218 271.7L64.2 172.4C66 156.4 79.5 144 96 144l256 0c16.5 0 30 12.4 31.8 28.4L230 271.7c-1.8 1.2-3.9 1.8-6 1.8s-4.2-.6-6-1.8zm29.4 26.9L384 210.4 384 336c0 17.7-14.3 32-32 32L96 368c-17.7 0-32-14.3-32-32l0-125.6 136.6 88.2c7 4.5 15.1 6.9 23.4 6.9s16.4-2.4 23.4-6.9z" />
        </svg>
      </a>
    </p>
  </footer>
  <style>
    .download-btn {
      margin-top: 1rem;
      display: inline-block;
      font-weight: 600;
      padding: 0.5rem 1.25rem;
      border-radius: 0.5rem;
      background: #2563eb;
      color: #fff;
      box-shadow: 0 1px 4px 0 rgba(30, 64, 175, 0.10);
      transition: background 0.15s, color 0.15s, box-shadow 0.15s, transform 0.15s;
      border: 1px solid #3b82f6;
      outline: none;
      font-size: 1rem;
      text-align: center;
    }

    .download-btn:hover,
    .download-btn:focus {
      background: #1d4ed8;
      color: #fff;
      box-shadow: 0 4px 16px 0 rgba(37, 99, 235, 0.18);
      border-color: #2563eb;
      text-decoration: none;
      transform: translateY(-2px) scale(1.02);
    }

    .download-btn:active {
      background: #1e293b;
      color: #fff;
      transform: scale(0.98);
    }

    .firemod-card {
      background: #1e293b;
      border-radius: 1rem;
      box-shadow: 0 1px 6px 0 rgba(30, 41, 59, 0.10);
      border: 1.5px solid #3b82f6;
      padding: 1.25rem;
      display: flex;
      flex-direction: column;
      height: 100%;
      transition: box-shadow 0.15s, transform 0.15s, border-color 0.15s;
    }

    .firemod-card:hover {
      box-shadow: 0 6px 24px 0 rgba(37, 99, 235, 0.15);
      border-color: #2563eb;
      transform: translateY(-2px) scale(1.01);
    }

    .firemod-card h3 {
      color: #fff;
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 0.4rem;
    }

    .firemod-card p {
      color: #cbd5e1;
      font-size: 0.98rem;
      flex-grow: 1;
    }

    .form-label {
      color: #fff;
      font-weight: 500;
      margin-bottom: 0.25rem;
      display: block;
    }

    form label {
      color: #fff;
      font-weight: 500;
      margin-bottom: 0.25rem;
      display: block;
    }

    form button,
    .firemod-card button,
    .firemod-card .download-btn {
      text-align: center !important;
    }

    .snippet-card {
      display: inline-block;
      width: 100%;
      break-inside: avoid;
      margin-bottom: 1.5rem;
      background: #fff;
      border-radius: 1rem;
      box-shadow: 0 4px 24px 0 rgba(30, 41, 59, 0.18);
      padding: 1.5rem;
      transition: box-shadow 0.15s, transform 0.15s, border-color 0.15s;
    }

    .snippet-card:hover {
      box-shadow: 0 8px 32px 0 rgba(37, 99, 235, 0.18);
      transform: translateY(-2px) scale(1.01);
    }

    .code-block-wrapper pre {
      max-height: 400px;
      /* Sleek thin scrollbars */
      overflow: auto;
      scrollbar-width: thin;
      scrollbar-color: #cbd5e1 #f3f4f6;
    }

    .code-block-wrapper pre::-webkit-scrollbar {
      width: 7px;
      height: 7px;
      background: #f3f4f6;
      border-radius: 8px;
    }

    .code-block-wrapper pre::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 8px;
    }

    .code-block-wrapper pre::-webkit-scrollbar-thumb:hover {
      background: #94a3b8;
    }

    .columns-2 {
      column-count: 2;
      column-gap: 2rem;
    }

    @media (max-width: 900px) {
      .columns-2 {
        column-count: 1;
      }
    }
  </style>
  <script>
    const faders = document.querySelectorAll('.fade-in-up');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1 });

    faders.forEach(el => observer.observe(el));
    // Set current year in footer
    document.getElementById("year").textContent = new Date().getFullYear();
    async function downloadWithBlockId(filename, inputId) {
      const blockId = document.getElementById(inputId).value.trim();
      if (!blockId) {
        alert('Please enter a Block ID.');
        return;
      }
      let fetchPath;
      if (filename === 'reflectionBlock.js' || filename === 'reflectionShortcode.js') {
        fetchPath = `/block-library/Discover/${filename}`;
      } else {
        fetchPath = `/block-library/Discover/${filename}`;
      }
      const response = await fetch(fetchPath);
      let jsText = await response.text();
      jsText = jsText.replace(/BLOCK_ID_PLACEHOLDER|"block-id-here"|blockId\s*=\s*['\"]?[^'\"]*['\"]?/gi, `blockId = "${blockId}"`);
      const blob = new Blob([jsText], { type: 'application/javascript' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      setTimeout(() => {
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }, 100);
    }
    function generateScrollTriggerJS() {
      const blockId = document.getElementById('scroll-block-id').value.trim();
      const script = document.getElementById('scroll-script').value.trim();
      const fireOnce = document.getElementById('scroll-fire-once').checked;
      const jsContent = `// Scroll Trigger Feature for Rise\n(function() {\n    const blockId = '${blockId}';\n    const script = \`${script}\`;\n    const fireOnce = ${fireOnce};\n    function observeBlocks() {\n        const observer = new IntersectionObserver((entries, observer) => {\n            entries.forEach(entry => {\n                if (entry.target.dataset.blockId === blockId && entry.isIntersecting) {\n                    try { new Function(script)(); } catch (e) { console.error(e); }\n                    if (fireOnce) observer.unobserve(entry.target);\n                }\n            });\n        }, { threshold: 0.1 });\n        document.querySelectorAll('.noOutline[data-block-id]').forEach(block => {\n            if (block.dataset.blockId === blockId) observer.observe(block);\n        });\n    }\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', observeBlocks);\n    } else {\n        observeBlocks();\n    }\n})();`;
      const blob = new Blob([jsContent], { type: 'application/javascript' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `scrollTrigger-${blockId || 'custom'}.js`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }
    function generateCustomButtonJS() {
      const buttonId = document.getElementById('button-id').value.trim();
      const script = document.getElementById('button-script').value.trim();
      const confetti = document.getElementById('button-confetti').checked;
      const jsContent = `// Custom Button JS/Confetti Feature for Rise\n(function() {\n    const buttonId = '${buttonId}';\n    const script = \`${script}\`;\n    const confetti = ${confetti};\n    function loadConfettiScript() {\n        return new Promise((resolve, reject) => {\n            if (window.confettiScriptLoaded) return resolve();\n            const scriptEl = document.createElement('script');\n            scriptEl.src = 'https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js';\n            scriptEl.onload = () => { window.confettiScriptLoaded = true; resolve(); };\n            scriptEl.onerror = reject;\n            document.head.appendChild(scriptEl);\n        });\n    }\n    function fireConfetti() {\n        if (!window.confettiScriptLoaded) return;\n        const confettiExecutor = typeof tsParticles !== 'undefined' ? tsParticles.confetti : window.confetti;\n        if (confettiExecutor) {\n            confettiExecutor({\n                particleCount: 150,\n                spread: 90,\n                startVelocity: 45,\n                colors: ['#FFC700', '#FF0000', '#2E3191', '#41BBC7'],\n                origin: { x: 0.5, y: 0.7 },\n                zIndex: 9999\n            });\n        }\n    }\n    function setupButton() {\n        if (confetti) loadConfettiScript();\n        const selector = \`a.blocks-button__button[href*=\"\${buttonId}\"]:not([data-button-modded=\"true\"])\`;
        document.querySelectorAll(selector).forEach(button => {\n            button.addEventListener('click', event => {\n                event.preventDefault();\n                if (confetti) fireConfetti();\n                if (script) {\n                    try { new Function(script)(); } catch (e) { console.error(\`Error in script for \"\${buttonId}\":\`, e); }\n                }\n            });\n            button.dataset.buttonModded = 'true';\n        });\n    }\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', setupButton);\n    } else {\n        setupButton();\n    }\n})();`;
      const blob = new Blob([jsContent], { type: 'application/javascript' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `customButtonJS-${buttonId || 'custom'}.js`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }
    // Add copy buttons to all code blocks and wrap pre/code for fixed button
    document.addEventListener('DOMContentLoaded', function () {
      // Remove toast element and showToast logic
      // Use event delegation for copy buttons
      document.body.addEventListener('click', function (e) {
        if (e.target && e.target.classList.contains('code-copy-btn')) {
          var codeBlock = e.target.closest('.code-block-wrapper').querySelector('code');
          var text = codeBlock ? codeBlock.textContent : '';
          if (!text) return;
          if (navigator.clipboard && window.isSecureContext) {
            navigator.clipboard.writeText(text).then(function () {
              e.target.innerText = 'Copied!';
              setTimeout(function () { e.target.innerText = 'Copy'; }, 1200);
            }, function () {
              e.target.innerText = 'Error';
              setTimeout(function () { e.target.innerText = 'Copy'; }, 1200);
            });
          } else {
            var textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.left = '-9999px';
            document.body.appendChild(textarea);
            textarea.focus();
            textarea.select();
            try {
              var successful = document.execCommand('copy');
              e.target.innerText = successful ? 'Copied!' : 'Error';
            } catch (err) {
              e.target.innerText = 'Error';
            }
            setTimeout(function () { e.target.innerText = 'Copy'; }, 1200);
            document.body.removeChild(textarea);
          }
        }
      });
      // Ensure all code blocks have a copy button
      document.querySelectorAll('pre > code').forEach(function (codeBlock) {
        var pre = codeBlock.parentNode;
        if (pre.parentNode.classList.contains('code-block-wrapper')) return;
        var wrapper = document.createElement('div');
        wrapper.className = 'code-block-wrapper';
        wrapper.style.position = 'relative';
        pre.parentNode.insertBefore(wrapper, pre);
        wrapper.appendChild(pre);
        var button = document.createElement('button');
        button.className = 'code-copy-btn';
        button.type = 'button';
        button.innerText = 'Copy';
        button.title = 'Copy code to clipboard';
        button.style.position = 'absolute';
        button.style.top = '0.7em';
        button.style.right = '2.5em';
        button.style.zIndex = 2;
        wrapper.appendChild(button);
      });
    });
  </script>
</body>

</html>